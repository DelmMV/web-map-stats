import{l as y,G as _,j as e,V as s,F as j,B as b,C as w,S as m,e as l,T as c,D as B,I as u}from"./index-v5_iQLDF.js";import{F as C,I as p}from"./chunk-6CVSDS6C-BQtUw2x6.js";import{D as M}from"./chunk-W7WUSNWJ-1sEbp7kk.js";import{H as D}from"./chunk-3ASUQ6PA-CfW-lJJB.js";var N=y({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),A=y({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function O(n){return _({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Route"},child:[{tag:"path",attr:{d:"M21.792,17.086c-.58-.58-1.16-1.17-1.75-1.75-.08-.08-.16-.17-.25-.25a.492.492,0,0,0-.7,0,.5.5,0,0,0,0,.71l1.14,1.14H9.282a2.22,2.22,0,0,1,0-4.44h3a3.215,3.215,0,1,0,0-6.43H7.012a2.5,2.5,0,1,0,0,1h5.27a2.215,2.215,0,1,1,0,4.43h-3a3.22,3.22,0,1,0,0,6.44h10.96l-.9.9c-.09.08-.17.17-.25.25a.5.5,0,0,0,0,.71.511.511,0,0,0,.7,0l1.75-1.75.25-.25A.5.5,0,0,0,21.792,17.086ZM4.562,8.066a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,4.562,8.066Z"},child:[]}]}]})(n)}const Z=({dateRange:n,handleDateChange:d,handleSearch:f,showHeatmap:o,setShowHeatmap:v,heatmapStatus:k,handleHeatmapPeriodChange:F,heatmapPeriod:h,heatmapMonth:L,setHeatmapMonth:S,heatmapYear:I,setHeatmapYear:z,totalActiveDistance:g,routesState:t,toggleSession:R,handleScroll:x,carouselRef:W})=>e.jsxs(s,{spacing:4,align:"stretch",children:[e.jsxs(s,{as:"form",onSubmit:f,spacing:2,align:"stretch",children:[e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Начальная дата"}),e.jsx(p,{type:"date",name:"start",value:n.start,onChange:d,borderColor:"gray"})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Конечная дата"}),e.jsx(p,{type:"date",name:"end",value:n.end,onChange:d,borderColor:"gray"})]})]}),e.jsx(M,{}),e.jsxs(s,{spacing:2,align:"stretch",children:[e.jsx(b,{onClick:()=>v(!o),isLoading:k.loading,colorScheme:o?"blue":"green",borderColor:o?"gray":"blue",children:o?"Скрыть тепловую карту":"Показать тепловую карту"}),o&&e.jsxs(e.Fragment,{children:[e.jsx(w,{borderColor:"gray.300",isChecked:h==="this_year",onChange:r=>F({target:{value:r.target.checked?"this_year":"this_month"}}),children:"Годовая"}),h!=="this_year"&&e.jsx(m,{value:L,borderColor:"gray",onChange:r=>S(Number(r.target.value)),children:[...Array(12)].map((r,a)=>e.jsx("option",{value:a+1,children:new Date(0,a).toLocaleString("default",{month:"long"})},a))}),e.jsx(m,{borderColor:"gray",value:I,onChange:r=>z(Number(r.target.value)),children:[...Array(2)].map((r,a)=>{const i=new Date().getFullYear()-a;return e.jsx("option",{value:i,children:i},i)})})]})]}),g>0&&e.jsx(l,{position:"absolute",bottom:90,left:0,right:0,m:2,children:e.jsx(l,{p:2,borderWidth:1,borderRadius:"md",borderColor:"gray",children:e.jsxs(c,{fontWeight:"bold",fontSize:"sm",children:["Общий пробег маршрутов: ",(g/1e3).toFixed(2)," км"]})})}),Object.keys(t.data).length>0&&e.jsxs(l,{position:"absolute",bottom:0,left:0,right:0,m:2,children:[e.jsx(c,{fontWeight:"bold",mb:2,children:"Активные маршруты"}),e.jsxs(B,{align:"center",children:[e.jsx(u,{icon:e.jsx(N,{}),onClick:()=>x("left"),"aria-label":"Прокрутить влево",size:"sm",borderWidth:1,borderColor:"gray"}),e.jsx(l,{ref:W,overflowX:"auto",whiteSpace:"nowrap",css:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},flex:1,children:e.jsx(D,{spacing:2,p:2,children:Object.keys(t.data).map(r=>e.jsx(b,{size:"sm",colorScheme:t.visibleSessions[r]?"green":"gray",onClick:()=>R(r),flexShrink:0,children:e.jsxs(c,{display:"flex",alignItems:"center",children:[e.jsx(O,{size:"17px"}),(t.distances[r]/1e3).toFixed(2)," км"]})},r))})}),e.jsx(u,{icon:e.jsx(A,{}),onClick:()=>x("right"),"aria-label":"Прокрутить вправо",size:"sm",borderWidth:1,borderColor:"gray"})]})]})]});export{Z as default};
