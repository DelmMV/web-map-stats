import{l as f,G as w,j as e,V as i,F as j,B as b,C as B,S as m,e as t,T as c,D as M,I as u}from"./index-CfMcn9rd.js";import{F as C,I as y}from"./chunk-6CVSDS6C-CDOmQD0n.js";import{D as p}from"./chunk-W7WUSNWJ-BPuxUyxi.js";import{H as D}from"./chunk-3ASUQ6PA-nI8BvOFG.js";var N=f({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),A=f({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function O(o){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Route"},child:[{tag:"path",attr:{d:"M21.792,17.086c-.58-.58-1.16-1.17-1.75-1.75-.08-.08-.16-.17-.25-.25a.492.492,0,0,0-.7,0,.5.5,0,0,0,0,.71l1.14,1.14H9.282a2.22,2.22,0,0,1,0-4.44h3a3.215,3.215,0,1,0,0-6.43H7.012a2.5,2.5,0,1,0,0,1h5.27a2.215,2.215,0,1,1,0,4.43h-3a3.22,3.22,0,1,0,0,6.44h10.96l-.9.9c-.09.08-.17.17-.25.25a.5.5,0,0,0,0,.71.511.511,0,0,0,.7,0l1.75-1.75.25-.25A.5.5,0,0,0,21.792,17.086ZM4.562,8.066a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,4.562,8.066Z"},child:[]}]}]})(o)}const Z=({dateRange:o,handleDateChange:d,handleSearch:v,showHeatmap:a,setShowHeatmap:k,heatmapStatus:F,handleHeatmapPeriodChange:L,heatmapPeriod:h,heatmapMonth:S,setHeatmapMonth:I,heatmapYear:z,setHeatmapYear:R,totalActiveDistance:x,routesState:l,toggleSession:W,handleScroll:g,carouselRef:_})=>e.jsxs(i,{spacing:4,align:"stretch",children:[e.jsxs(i,{as:"form",onSubmit:v,spacing:2,align:"stretch",children:[e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Начальная дата"}),e.jsx(y,{type:"date",name:"start",value:o.start,onChange:d,borderColor:"gray"})]}),e.jsxs(j,{isRequired:!0,children:[e.jsx(C,{children:"Конечная дата"}),e.jsx(y,{type:"date",name:"end",value:o.end,onChange:d,borderColor:"gray"})]})]}),e.jsx(p,{}),e.jsxs(i,{spacing:2,align:"stretch",children:[e.jsx(b,{onClick:()=>k(!a),isLoading:F.loading,colorScheme:a?"blue":"green",borderColor:a?"gray":"blue",children:a?"Скрыть тепловую карту":"Показать тепловую карту"}),a&&e.jsxs(e.Fragment,{children:[e.jsx(B,{borderColor:"gray.300",isChecked:h==="this_year",onChange:r=>L({target:{value:r.target.checked?"this_year":"this_month"}}),children:"Годовая"}),h!=="this_year"&&e.jsx(m,{value:S,borderColor:"gray",onChange:r=>I(Number(r.target.value)),children:[...Array(12)].map((r,n)=>e.jsx("option",{value:n+1,children:new Date(0,n).toLocaleString("default",{month:"long"})},n))}),e.jsx(m,{borderColor:"gray",value:z,onChange:r=>R(Number(r.target.value)),children:[...Array(2)].map((r,n)=>{const s=new Date().getFullYear()-n;return e.jsx("option",{value:s,children:s},s)})})]})]}),x>0&&e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(t,{p:2,borderWidth:1,borderRadius:"md",borderColor:"gray",children:e.jsxs(c,{fontWeight:"bold",fontSize:"sm",children:["Общий пробег маршрутов: ",(x/1e3).toFixed(2)," км"]})})]}),Object.keys(l.data).length>0&&e.jsxs(t,{children:[e.jsx(c,{fontWeight:"bold",mb:2,children:"Активные маршруты"}),e.jsxs(M,{align:"center",children:[e.jsx(u,{icon:e.jsx(N,{}),onClick:()=>g("left"),"aria-label":"Прокрутить влево",size:"sm",borderWidth:1,borderColor:"gray"}),e.jsx(t,{ref:_,overflowX:"auto",whiteSpace:"nowrap",css:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},flex:1,children:e.jsx(D,{spacing:2,p:2,children:Object.keys(l.data).map(r=>e.jsx(b,{size:"sm",colorScheme:l.visibleSessions[r]?"green":"gray",onClick:()=>W(r),flexShrink:0,children:e.jsxs(c,{display:"flex",alignItems:"center",children:[e.jsx(O,{size:"17px"}),(l.distances[r]/1e3).toFixed(2)," км"]})},r))})}),e.jsx(u,{icon:e.jsx(A,{}),onClick:()=>g("right"),"aria-label":"Прокрутить вправо",size:"sm",borderWidth:1,borderColor:"gray"})]})]})]});export{Z as default};
